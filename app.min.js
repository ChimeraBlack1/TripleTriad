var Player={playerCard:{name:null,value:null},hand:{cardOne:{name:"playerCardOne",north:1,east:2,south:1,west:7},cardTwo:{name:"playerCardTwo",north:1,east:3,south:5,west:4},cardThree:{name:"playerCardThree",north:2,east:1,south:4,west:8},cardFour:{name:"playerCardFour",north:7,east:1,south:1,west:1},cardFive:{name:"playerCardFive",north:9,east:7,south:3,west:3},cardSix:{name:"playerCardSix",north:5,east:1,south:6,west:1}}},cardColor=null,enemySlot=null,board={},card={selected:function(e){switch(Player.playerCard.name=e,e){case"playerCardOne":Player.playerCard.value=Player.hand.cardOne;break;case"playerCardTwo":Player.playerCard.value=Player.hand.cardTwo;break;case"playerCardThree":Player.playerCard.value=Player.hand.cardThree;break;case"playerCardFour":Player.playerCard.value=Player.hand.cardFour;break;case"playerCardFive":Player.playerCard.value=Player.hand.cardFive;break;case"playerCardSix":Player.playerCard.value=Player.hand.cardSix}console.log(Player.playerCard.value)},set:function(e){board[e]=Player.playerCard.value;var a=$("#"+Player.playerCard.name).css("background-color");$("#slot"+e).css("background-color",a),$("#"+Player.playerCard.name).hide(),Enemy.enemyTurn(Player.playerCard.name,e,a),Player.playerCard.name=null},checkIfSet:function(e){if(void 0==board[e]&&null!=Player.playerCard.name)this.set(e);else{if(void 0!=board[e]){var a=board[e],r=a.name;switch(r){case"playerCardOne":r=Player.hand.cardOne.name;break;case"playerCardTwo":r=Player.hand.cardTwo.name;break;case"playerCardThree":r=Player.hand.cardThree.name;break;case"playerCardFour":r=Player.hand.cardFour.name;break;case"playerCardFive":r=Player.hand.cardFive.name;break;case"playerCardSix":r=Player.hand.cardSix.name}return void console.log(r+" is already in that slot")}console.log("There is nothing in that slot")}}},Enemy={enemyCard:{name:null,value:null},usedCards:[],score:0,hand:{CardOne:{name:"enemyCardOne",north:6,east:4,south:1,west:3},CardTwo:{name:"enemyCardTwo",north:3,east:3,south:3,west:3},CardThree:{name:"enemyCardThree",north:1,east:4,south:4,west:1},CardFour:{name:"enemyCardFour",north:4,east:6,south:4,west:6},CardFive:{name:"enemyCardFive",north:3,east:3,south:9,west:7},CardSix:{name:"enemyCardSix",north:1,east:1,south:3,west:2}},enemyTurn:function(e,a,r){this.chooseSlot(a)},chooseSlot:function(e){var a="R",r="L",n="T",d="B";switch(e){case 1:this.decideSlot(1,[2,4],[a,r]);break;case 2:this.decideSlot(2,[1,3,5],[a,r,d]);break;case 3:this.decideSlot(3,[2,6],[d,r]);break;case 4:this.decideSlot(4,[1,5,7],[n,a,d]);break;case 5:this.decideSlot(5,[2,4,6,8],[a,r,n,d]);break;case 6:this.decideSlot(6,[3,5,9],[n,r,d]);break;case 7:this.decideSlot(7,[4,8],[n,a]);break;case 8:this.decideSlot(8,[7,5,9],[n,r,a]);break;case 9:this.decideSlot(9,[8,6],[r,n])}},decideSlot:function(e,a,r){var n=[];for(i=0;i<a.length;i++)void 0==board[a[i]]&&n.push(a[i]);var d=this.compareCard(Player.playerCard.value),o=this.calcAttack(d,r),t=[];$.each(o,function(e,a){-1===$.inArray(a,t)&&t.push(a)});var s=Math.floor(Math.random()*t.length),h=t[s];if(t=[],enemyCard=this.selected(h),n.length>=1){console.log(n+" are The enemy's open moves");var m=[];for(i=0;i<n.length;i++){var y=n[i];void 0==board[y]&&m.push(y)}console.log(m);var l=Math.floor(Math.random()*m.length),u=m[l],C="slot"+u,c=document.getElementById(C);$(c).css("background-color","magenta"),board[u]=enemyCard}else if(0==n.length){var E=Object.keys(board);E.length>=9?console.log("end the game"):this.setCardRandomly()}this.usedCards.push(h),$("#slot"+enemySlot).css("background-color",cardColor),board[enemySlot]=enemyCard,n=[],d=[],this.goodMoves={top:[],right:[],bottom:[],left:[]}},calcAttack:function(e,a){var r=[];return e.top.length>0&&a.includes("T")&&r.push(e.top[0]),e.right.length>0&&a.includes("R")&&r.push(e.right[0]),e.bottom.length>0&&a.includes("B")&&r.push(e.bottom[0]),e.left.length>0&&a.includes("L")&&r.push(e.left[0]),r},selected:function(e){switch(this.enemyCard.name=e,e){case"enemyCardOne":this.enemyCard.value=Enemy.hand.CardOne;break;case"enemyCardTwo":this.enemyCard.value=Enemy.hand.CardTwo;break;case"enemyCardThree":this.enemyCard.value=Enemy.hand.CardThree;break;case"enemyCardFour":this.enemyCard.value=Enemy.hand.CardFour;break;case"enemyCardFive":this.enemyCard.value=Enemy.hand.CardFive;break;case"enemyCardSix":this.enemyCard.value=Enemy.hand.CardSix}return this.enemyCard.value},setCardRandomly:function(){var e=[];for(i=0;i<10;i++)if(void 0==board[i]){var a=i;e.push(a)}var r=Math.floor(Math.random()*e.length),n=e[r],d="slot"+n;board[n]=enemyCard;var o=document.getElementById(d);$(o).css("background-color","purple")},goodMoves:{top:[],right:[],bottom:[],left:[]},compareCard:function(e){return-1==$.inArray("enemyCardOne",Enemy.usedCards)&&(Enemy.hand.CardOne.north>=e.south&&Enemy.goodMoves.bottom.push(Enemy.hand.CardOne.name),Enemy.hand.CardOne.east>=e.west&&Enemy.goodMoves.left.push(Enemy.hand.CardOne.name),Enemy.hand.CardOne.south>=e.north&&Enemy.goodMoves.top.push(Enemy.hand.CardOne.name),Enemy.hand.CardOne.west>=e.east&&Enemy.goodMoves.right.push(Enemy.hand.CardOne.name)),-1==$.inArray("enemyCardTwo",Enemy.usedCards)&&(Enemy.hand.CardTwo.north>=e.south&&Enemy.goodMoves.bottom.push(Enemy.hand.CardTwo.name),Enemy.hand.CardTwo.east>=e.west&&Enemy.goodMoves.left.push(Enemy.hand.CardTwo.name),Enemy.hand.CardTwo.south>=e.north&&Enemy.goodMoves.top.push(Enemy.hand.CardTwo.name),Enemy.hand.CardTwo.west>=e.east&&Enemy.goodMoves.right.push(Enemy.hand.CardTwo.name)),-1==$.inArray("enemyCardThree",Enemy.usedCards)&&(Enemy.hand.CardThree.north>=e.south&&Enemy.goodMoves.bottom.push(Enemy.hand.CardThree.name),Enemy.hand.CardThree.east>=e.west&&Enemy.goodMoves.left.push(Enemy.hand.CardThree.name),Enemy.hand.CardThree.south>=e.north&&Enemy.goodMoves.top.push(Enemy.hand.CardThree.name),Enemy.hand.CardThree.west>=e.east&&Enemy.goodMoves.right.push(Enemy.hand.CardThree.name)),-1==$.inArray("enemyCardFour",Enemy.usedCards)&&(Enemy.hand.CardFour.north>=e.south&&Enemy.goodMoves.bottom.push(Enemy.hand.CardFour.name),Enemy.hand.CardFour.east>=e.west&&Enemy.goodMoves.left.push(Enemy.hand.CardFour.name),Enemy.hand.CardFour.south>=e.north&&Enemy.goodMoves.top.push(Enemy.hand.CardFour.name),Enemy.hand.CardFour.west>=e.east&&Enemy.goodMoves.right.push(Enemy.hand.CardFour.name)),-1==$.inArray("enemyCardFive",Enemy.usedCards)&&(Enemy.hand.CardFive.north>=e.south&&Enemy.goodMoves.bottom.push(Enemy.hand.CardFive.name),Enemy.hand.CardFive.east>=e.west&&Enemy.goodMoves.left.push(Enemy.hand.CardFive.name),Enemy.hand.CardFive.south>=e.north&&Enemy.goodMoves.top.push(Enemy.hand.CardFive.name),Enemy.hand.CardFive.west>=e.east&&Enemy.goodMoves.right.push(Enemy.hand.CardFive.name)),-1==$.inArray("enemyCardSix",Enemy.usedCards)&&(Enemy.hand.CardSix.north>=e.south&&Enemy.goodMoves.bottom.push(Enemy.hand.CardSix.name),Enemy.hand.CardSix.east>=e.west&&Enemy.goodMoves.left.push(Enemy.hand.CardSix.name),Enemy.hand.CardSix.south>=e.north&&Enemy.goodMoves.top.push(Enemy.hand.CardSix.name),Enemy.hand.CardSix.west>=e.east&&Enemy.goodMoves.right.push(Enemy.hand.CardSix.name)),Enemy.goodMoves}};